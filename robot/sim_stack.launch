<launch>
  <!-- Headless Gazebo for remote VM -->
  <arg name="headless" default="true" />

  <env name="TURTLEBOT3_MODEL" value="waffle"/>

  <!-- Gazebo + TurtleBot3 world -->
  <include file="$(find turtlebot3_gazebo)/launch/turtlebot3_world.launch">
    <arg name="headless" value="$(arg headless)"/>
  </include>

  <!-- Rosbridge WebSocket server (for roslibjs in the browser) -->
  <node pkg="rosbridge_server" type="rosbridge_websocket" name="rosbridge_websocket" args="--port 9090" output="screen"/>

  <!-- Web video server (streams /camera/rgb/image_raw as MJPEG) -->
  <node pkg="web_video_server" type="web_video_server" name="web_video_server" output="screen">
    <param name="port" value="8080"/>
  </node>
</launch>
